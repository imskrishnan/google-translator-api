{"ast":null,"code":"import _slicedToArray from \"/Users/shobanasekar/Downloads/google-translator-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _regeneratorRuntime from \"/Users/shobanasekar/Downloads/google-translator-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/shobanasekar/Downloads/google-translator-api/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/shobanasekar/Downloads/google-translator-api/src/components/translate.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nvar doTranslation = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(input, languageCode, cancelToken) {\n    var _yield$axios$post, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.post(\"https://translation.googleapis.com/language/translate/v2?key=AIzaSyCf0Xy0OnhxlduyEt3K8zP-sOuu-l_u6uA\", {\n              q: input,\n              target: languageCode\n            }, {\n              cancelToken: cancelToken.token\n            });\n\n          case 3:\n            _yield$axios$post = _context.sent;\n            data = _yield$axios$post.data;\n            return _context.abrupt(\"return\", data.data.translations[0].translatedText);\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", \"\");\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 8]]);\n  }));\n\n  return function doTranslation(_x, _x2, _x3) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default (function (_ref2) {\n  var language = _ref2.language,\n      text = _ref2.text;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      translated = _useState2[0],\n      setTranslated = _useState2[1];\n\n  useEffect(function () {\n    if (!text) {\n      return;\n    }\n\n    var cancelToken = axios.CancelToken.source();\n    doTranslation(text, language, cancelToken).then(setTranslated);\n    return function () {\n      try {\n        cancelToken.cancel();\n      } catch (err) {}\n    };\n  }, [text, language]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Output\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, translated));\n});","map":{"version":3,"sources":["/Users/shobanasekar/Downloads/google-translator-api/src/components/translate.js"],"names":["React","useEffect","useState","axios","doTranslation","input","languageCode","cancelToken","post","q","target","token","data","translations","translatedText","language","text","translated","setTranslated","CancelToken","source","then","cancel","err"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,aAAa;AAAA,sEAAG,iBAAOC,KAAP,EAAcC,YAAd,EAA4BC,WAA5B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEKJ,KAAK,CAACK,IAAN,CACrB,sGADqB,EAErB;AACEC,cAAAA,CAAC,EAAEJ,KADL;AAEEK,cAAAA,MAAM,EAAEJ;AAFV,aAFqB,EAMrB;AAAEC,cAAAA,WAAW,EAAEA,WAAW,CAACI;AAA3B,aANqB,CAFL;;AAAA;AAAA;AAEVC,YAAAA,IAFU,qBAEVA,IAFU;AAAA,6CAWXA,IAAI,CAACA,IAAL,CAAUC,YAAV,CAAuB,CAAvB,EAA0BC,cAXf;;AAAA;AAAA;AAAA;AAAA,6CAaX,EAbW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAbV,aAAa;AAAA;AAAA;AAAA,GAAnB;;AAiBA,gBAAe,iBAAwB;AAAA,MAArBW,QAAqB,SAArBA,QAAqB;AAAA,MAAXC,IAAW,SAAXA,IAAW;;AACrC,kBAAoCd,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAOe,UAAP;AAAA,MAAmBC,aAAnB;;AAEAjB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACe,IAAL,EAAW;AACT;AACD;;AAED,QAAMT,WAAW,GAAGJ,KAAK,CAACgB,WAAN,CAAkBC,MAAlB,EAApB;AAEAhB,IAAAA,aAAa,CAACY,IAAD,EAAOD,QAAP,EAAiBR,WAAjB,CAAb,CAA2Cc,IAA3C,CAAgDH,aAAhD;AAEA,WAAO,YAAM;AACX,UAAI;AACFX,QAAAA,WAAW,CAACe,MAAZ;AACD,OAFD,CAEE,OAAOC,GAAP,EAAY,CAAE;AACjB,KAJD;AAKD,GAdQ,EAcN,CAACP,IAAD,EAAOD,QAAP,CAdM,CAAT;AAgBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAI,IAAA,SAAS,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuBE,UAAvB,CAFF,CADF;AAMD,CAzBD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst doTranslation = async (input, languageCode, cancelToken) => {\n  try {\n    const { data } = await axios.post(\n      \"https://translation.googleapis.com/language/translate/v2?key=AIzaSyCf0Xy0OnhxlduyEt3K8zP-sOuu-l_u6uA\",\n      {\n        q: input,\n        target: languageCode\n      },\n      { cancelToken: cancelToken.token }\n    );\n\n    return data.data.translations[0].translatedText;\n  } catch (err) {\n    return \"\";\n  }\n};\n\nexport default ({ language, text }) => {\n  const [translated, setTranslated] = useState(\"\");\n\n  useEffect(() => {\n    if (!text) {\n      return;\n    }\n\n    const cancelToken = axios.CancelToken.source();\n\n    doTranslation(text, language, cancelToken).then(setTranslated);\n\n    return () => {\n      try {\n        cancelToken.cancel();\n      } catch (err) {}\n    };\n  }, [text, language]);\n\n  return (\n    <div>\n      <label className=\"label\">Output</label>\n      <h1 className=\"title\">{translated}</h1>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}